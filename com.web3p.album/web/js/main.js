/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./album.js":
/*!******************!*\
  !*** ./album.js ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Album\": () => (/* binding */ Album)\n/* harmony export */ });\n/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context.js */ \"./context.js\");\n/* harmony import */ var _htm_album_htm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./htm/album.htm */ \"./htm/album.htm\");\n\r\n\r\n\r\nclass Album extends _context_js__WEBPACK_IMPORTED_MODULE_0__.BaseElement {\r\n    #ShowList = this.#onShowList.bind(this);\r\n    #FullView = this.#onFullView.bind(this);\r\n    #jso = null;\r\n    \r\n    constructor() {\r\n        super(_htm_album_htm__WEBPACK_IMPORTED_MODULE_1__);\r\n    }\r\n\r\n    connectedCallback() {\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.listen('ShowList', this.#ShowList);\r\n    }\r\n\r\n    disconnectedCallback() {\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.remove('ShowList', this.#ShowList);\r\n    }\r\n    \r\n    #updateList(jso) {\r\n        if (jso.hasOwnProperty(\"list\")) {\r\n            this.#jso = jso;\r\n            const month = jso.month;\r\n\r\n            for (let day = 0; day < jso.list.length; day++) {\r\n                let date = jso.list[day];\r\n\r\n                for (let idx = 0; idx < date.thumbs.length; idx++) {\r\n                    let name = `../res/thumbs/${month}/img/${date.thumbs[idx]}`;\r\n                    let node = this.$htm.addItem(date.day, `${day},${idx}`, name);\r\n                    node.addEventListener(\"click\", this.#FullView);\r\n                }\r\n            };\r\n        }\r\n    }\r\n    \r\n    #onShowList(month) {\r\n        this.$htm.init();\r\n\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Channel.asOpen(\"FileService\").then(channel => {\r\n            const file = `/thumbs/${month}/list.json`;\r\n            channel.asGet(\"getJsonRes\", file).then(json => {\r\n                this.#updateList(json);\r\n            }).catch(e => console.error(file + ': ' + e.message));\r\n        }).catch(e => console.error('FileService: ' + e.message));\r\n    }\r\n/* {\r\n        const zip = `/thumbs/${month}.zip`;\r\n        channel.asGet(\"extractRes\", zip).then(() => {\r\n            const file = `/thumbs/${month}/list.json`;\r\n            channel.asGet(\"getJsonRes\", file).then(json => {\r\n                Listener.notify('ShowList', json);\r\n            }).catch(e => console.error(file + ': ' + e.message));\r\n        }).catch(e => console.error(zip + ': ' + e.message));\r\n    } */\r\n    #onFullView(event) {\r\n        let idx = this.$htm.getIndex(event.currentTarget);\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.notify('MediaView', this.#jso, idx);\r\n        //this.$htm.scrollTo(false);\r\n    }\r\n};\r\n\r\ncustomElements.define(\"wdp-thumbs\", Album, {extends:'section'});\n\n//# sourceURL=webpack:///./album.js?");

/***/ }),

/***/ "./context.js":
/*!********************!*\
  !*** ./context.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BaseElement\": () => (/* binding */ BaseElement),\n/* harmony export */   \"Channel\": () => (/* binding */ Channel),\n/* harmony export */   \"Listener\": () => (/* binding */ Listener),\n/* harmony export */   \"Provider\": () => (/* binding */ Provider),\n/* harmony export */   \"Swiper\": () => (/* binding */ Swiper),\n/* harmony export */   \"Tapper\": () => (/* binding */ Tapper)\n/* harmony export */ });\nif (!(window instanceof Window))\r\n    throw new Error('unable to locate window object');\r\n\r\nwindow.addEventListener(\"unhandledrejection\", event => {\r\n    console.error(event.reason);\r\n    event.preventDefault();\r\n}, false);\r\n\r\nwindow.addEventListener(\"resize\", event => Listener.notify('Resize', event), false);\r\n\r\n//  -------------------------------------------------------------------------------------\r\nwindow._Channel$ = window._Channel$ ?? {\r\n    getChannel: () => {},\r\n    setBackPress: () => {},\r\n};\r\nconst channels = {};\r\n//  -------------------------------------------------------------------------------------\r\n\r\nwindow.backpress = (function() {\r\n    const handlers = [];\r\n\r\n    return {\r\n        fire: function() {\r\n            handlers.forEach(handler => handler());\r\n        },\r\n        handle: function(handler) {\r\n            let pos = handlers.indexOf(handler);\r\n            if (pos < 0) {\r\n                if (handlers.length == 0) {\r\n                    window._Channel$.setBackPress(true);\r\n                }\r\n                handlers.push(handler);\r\n            }\r\n        },\r\n        remove: function(handler) {\r\n            let pos = handlers.indexOf(handler);\r\n            if (pos < 0) return;\r\n            if (handlers.length == 1) {\r\n                window._Channel$.setBackPress(false);\r\n            }\r\n            handlers.splice(pos, 1);\r\n        },\r\n    };\r\n})();\r\n\r\nconst Listener = (function() {\r\n    const topics = {}; // PageRequest, PathReturn, PathAppend\r\n\r\n    return {\r\n        notify: function(topic, ...data) {\r\n            topics[topic] ?.forEach(listener => listener(...data));\r\n        },\r\n        listen: function(topic, listener) {\r\n            let listeners = topics[topic];\r\n\r\n            if (!listeners) {\r\n                topics[topic] = [listener];\r\n            } else {\r\n                listeners.push(listener);\r\n            }\r\n        },\r\n        remove: function(topic, listener) {\r\n            let listeners = topics[topic] ?? [];\r\n\r\n            let pos = listeners.indexOf(listener);\r\n            if (pos >= 0) listeners.splice(pos, 1);\r\n            if (listeners.length == 0) delete topics[topic];\r\n        },\r\n    };\r\n})();\r\n\r\nconst Provider = (function() {\r\n    const topics = {}; // Store\r\n\r\n    return {\r\n        provide: function(topic, provider, force = false) {\r\n            if (!topics[topic] || force)\r\n                topics[topic] = provider;\r\n        },\r\n        request: function(topic, ...data) {\r\n            let provider = topics[topic];\r\n            return provider ? provider(...data) : null;\r\n        },\r\n        remove: function(topic, provider) {\r\n            if (provider == topics[topic])\r\n                delete topics[topic];\r\n        },\r\n    };\r\n})();\r\n\r\nclass Tapper {\r\n    static async detect(target, touches, threshold) {\r\n        if (Tapper.#isTapping) {\r\n            if (touches.length == 1) {\r\n                Tapper.#tapper.#onDblTouch();\r\n            } else\r\n            if (touches.length == 2) {\r\n                Tapper.#tapper.#onTwoTouch();\r\n            }\r\n            return Promise.resolve('isTapped');\r\n        }\r\n        Tapper.#isTapping = true;\r\n        return new Promise(resolve => \r\n            Tapper.#tapper.#touchStart(target, touches, threshold, resolve)\r\n        );\r\n    }   // (onetouch, dbltouch, longtouch), (twotouch, thump, walk, run)\r\n    static #tapper = new Tapper();\r\n    static #isTapping = false;\r\n\r\n    #TouchCancel = this.#onTouchCancel.bind(this);\r\n    #TouchMove = this.#onTouchMove.bind(this);\r\n    #LongTouch = this.#onLongTouch.bind(this);\r\n    #TouchEnd = this.#onTouchEnd.bind(this);\r\n\r\n    #resolve; #target; #threshold; #x0; #y0; #timer;\r\n\r\n    #touchStart(target, touches, threshold, resolve) {\r\n        this.#target = target;\r\n        this.#threshold = Date.now() + threshold;\r\n        this.#x0 = touches[0].pageX;\r\n        this.#y0 = touches[0].pageY;\r\n        this.#resolve = resolve;\r\n\r\n        this.#target.addEventListener(\"touchmove\", this.#TouchMove, {passive:true});\r\n        this.#target.addEventListener(\"touchend\", this.#TouchEnd);\r\n        this.#target.addEventListener(\"touchcancel\", this.#TouchCancel);\r\n\r\n        this.#timer = setTimeout(this.#LongTouch, threshold);\r\n    }\r\n\r\n    #detected(action) {\r\n        setTimeout(() => Tapper.#isTapping = false, 200);\r\n        this.#resolve(action);\r\n    }\r\n    \r\n    #onLongTouch() {\r\n        this.#clear();\r\n        this.#detected('longTouch');\r\n    }\r\n    \r\n    #onDblTouch() {\r\n        clearTimeout(this.#timer);\r\n        this.#detected('dblTouch');\r\n    }\r\n    \r\n    #onTwoTouch() {\r\n        this.#clear();\r\n        clearTimeout(this.#timer);\r\n        this.#detected('twoTouch');\r\n    }\r\n\r\n    #onTouchEnd(event) {\r\n        clearTimeout(this.#timer);\r\n        this.#clear();\r\n\r\n        this.#timer = setTimeout(() => {\r\n            this.#detected('oneTouch');\r\n        }, 300);\r\n    }\r\n\r\n    #onTouchMove(event) {\r\n        let touches = event.targetTouches;\r\n        let dx = Math.abs(touches[0].pageX - this.#x0);\r\n        let dy = Math.abs(touches[0].pageY - this.#y0);\r\n\r\n        if (dx > 9 || dy > 9) this.#onTouchCancel(null);\r\n    }\r\n\r\n    #onTouchCancel(event) {\r\n        this.#clear();\r\n\r\n        if (event && Math.abs(Date.now() - this.#threshold) < 50)\r\n            this.#detected('longTouch');\r\n        else\r\n            this.#detected('isPanning.');\r\n    }\r\n\r\n    #clear() {\r\n        this.#target.removeEventListener(\"touchmove\", this.#TouchMove);\r\n        this.#target.removeEventListener(\"touchend\", this.#TouchEnd);\r\n        this.#target.removeEventListener(\"touchcancel\", this.#TouchCancel);\r\n    }\r\n}\r\n\r\nclass Swiper {\r\n    static async detect(target, touch, threshold) {\r\n        return new Promise((resolve, reject) => \r\n            new Swiper(target, touch, threshold, resolve, reject).#init()\r\n        );\r\n    }\r\n\r\n    #TouchCancel = this.#onTouchCancel.bind(this);\r\n    #TouchMove = this.#onTouchMove.bind(this);\r\n    #TouchEnd = this.#onTouchEnd.bind(this);\r\n    #resolve;\r\n    #reject;\r\n    #target;\r\n    #threshold;\r\n    #start;\r\n    #x0;  #x1;\r\n    #y0;  #y1;\r\n\r\n    constructor(target, touch, threshold, resolve, reject) {\r\n        this.#target = target;\r\n        this.#threshold = threshold;\r\n        this.#x0 = this.#x1 = touch.pageX;\r\n        this.#y0 = this.#y1 = touch.pageY;\r\n        this.#start = Date.now();\r\n        this.#resolve = resolve;\r\n        this.#reject = reject;\r\n    }   // setTimeout(this.#TouchCancel, 5000);\r\n\r\n    #onTouchEnd() {\r\n        this.#clear();\r\n\r\n        let threshold = this.#threshold;        \r\n        let gap = Date.now() - this.#start;\r\n        if (gap < 200) threshold /= 4;\r\n        else if (gap < 300) threshold /= 3;\r\n        else if (gap < 500) threshold /= 2;\r\n\r\n        let off = this.#x1 - this.#x0;\r\n        if (Math.abs(off) > Math.abs(this.#y1 - this.#y0)) {\r\n            if (threshold < -off)\r\n                this.#resolve('next');\r\n            else\r\n            if (threshold < off)\r\n                this.#resolve('prev');\r\n        }\r\n        this.#reject('Canceled.');\r\n    }\r\n\r\n    #onTouchMove(event) {\r\n        this.#x1 = event.targetTouches[0].pageX;\r\n        this.#y1 = event.targetTouches[0].pageY;\r\n\r\n        this.#target.style.transform = `translateX(${this.#x1 - this.#x0}px)`;\r\n        this.#target.style.transitionDuration = '0ms';\r\n    }\r\n\r\n    #onTouchCancel() {\r\n        this.#clear();\r\n        this.#reject('Canceled.');\r\n    }\r\n\r\n    #init() {\r\n        this.#target.addEventListener(\"touchmove\", this.#TouchMove, {passive:true});\r\n        this.#target.addEventListener(\"touchend\", this.#TouchEnd);\r\n        this.#target.addEventListener(\"touchcancel\", this.#TouchCancel);\r\n    }\r\n\r\n    #clear() {\r\n        this.#target.removeEventListener(\"touchmove\", this.#TouchMove);\r\n        this.#target.removeEventListener(\"touchend\", this.#TouchEnd);\r\n        this.#target.removeEventListener(\"touchcancel\", this.#TouchCancel);\r\n    }\r\n};\r\n\r\nclass Channel {\r\n    static async asOpen(name) {\r\n        const channel =  new Promise((resolve, reject) => {\r\n            let timer = setTimeout(() => {\r\n                window.removeEventListener('message', listener);\r\n                reject(new Error(\"Request Timeout\"));\r\n            }, 3000);\r\n\r\n            const listener = msg => {\r\n                if (msg.data != name) return;\r\n                clearTimeout(timer);\r\n                window.removeEventListener('message', listener);\r\n                resolve(new Channel(name, msg.ports[0]));\r\n            }\r\n            window.addEventListener('message', listener);\r\n            window._Channel$.getChannel(name);\r\n        });\r\n        \r\n        if (!channels.hasOwnProperty(name))\r\n            channels[name] = await channel.catch(reject => Promise.reject(reject));\r\n\r\n        return Promise.resolve(channels[name]);\r\n    };\r\n//  -------------------------------------------------------------------------------------\r\n    #name;\r\n    #port;\r\n    #rid = 0;\r\n\r\n    constructor(name, port) {\r\n        this.#name = name;\r\n        this.#port = port;\r\n        this.#port.onmessage = null;\r\n    }\r\n\r\n    asGet(cmd, ...args) {\r\n        return new Promise((resolve, reject) => {\r\n            const rid = ++this.#rid;\r\n            const port = this.#port;\r\n\r\n            let timer = setTimeout(() => {\r\n                port.removeEventListener(\"message\", listener);\r\n                reject(new Error(\"Request Timeout\"));\r\n            }, 3000);\r\n        \r\n            const listener = function(msg) {\r\n                const json = JSON.parse(msg.data);\r\n                if (rid != json.rid) return;\r\n\r\n                clearTimeout(timer);\r\n                port.removeEventListener(\"message\", listener);\r\n                \r\n                if (json.hasOwnProperty(\"result\")) resolve(json.result);\r\n                if (json.hasOwnProperty(\"reject\")) reject(json.reject);\r\n                reject(new Error(\"Empty Response\"));\r\n            };\r\n            port.addEventListener(\"message\", listener);\r\n            port.postMessage(this.#toJson(rid, cmd, args));\r\n            port.start();\r\n        });\r\n    }\r\n\r\n    #toJson(rid, cmd, args) {\r\n        let list = args.map(a => `\"${a}\"`).join();\r\n        return `{\"rid\":${rid},\"cmd\":\"${cmd}\",\"args\":[${list}]}`;\r\n    }\r\n\r\n    close() {\r\n        this.#port.close();\r\n        delete channels[this.#name];\r\n    }\r\n};\r\n\r\nclass BaseElement extends HTMLElement {\r\n    \r\n    constructor(shadowHTML) {\r\n        super();\r\n        \r\n\t\tthis.attachShadow({mode:\"open\"}).innerHTML = shadowHTML;\r\n\t\tthis.#activateScript(this.shadowRoot);\r\n    }\r\n\r\n    #activateScript(node) {\r\n        if (node.tagName === \"TEMPLATE\") {\r\n            this.#activateTemplateScripts(node.content);\r\n        } else\r\n        for (let child of node.children) {\r\n            if (child.tagName === \"SCRIPT\") {\r\n                new Function(child.textContent).call(node);\r\n            }\r\n            else this.#activateScript(child);\r\n        };\r\n    };\r\n\r\n    #activateTemplateScripts(node) {\r\n        for (let child of node.children) {\r\n            if (child.tagName === \"TEMPLATE\") {\r\n                this.#activateTemplateScripts(child.content);\r\n            } else\r\n            if (child.tagName === \"SCRIPT\") {\r\n                this.#refreshScript(node, child);\r\n            }\r\n            else this.#activateTemplateScripts(child);\r\n        };\r\n    };\r\n    \r\n    #refreshScript(node, child) {\r\n        let script = document.createElement('script');\r\n        for (let attr of child.attributes) {\r\n            script.setAttribute(attr.name, attr.value)\r\n        };\r\n        script.textContent = child.textContent;\r\n        node.replaceChild(script, child);\r\n    };\r\n};\n\n//# sourceURL=webpack:///./context.js?");

/***/ }),

/***/ "./filter.js":
/*!*******************!*\
  !*** ./filter.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Filter\": () => (/* binding */ Filter)\n/* harmony export */ });\n/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context.js */ \"./context.js\");\n/* harmony import */ var _htm_filter_htm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./htm/filter.htm */ \"./htm/filter.htm\");\n\r\n\r\n\r\nclass Filter extends _context_js__WEBPACK_IMPORTED_MODULE_0__.BaseElement {\r\n    \r\n    constructor() {\r\n        super(_htm_filter_htm__WEBPACK_IMPORTED_MODULE_1__);\r\n    }\r\n\r\n    connectedCallback() {\r\n    }\r\n\r\n    disconnectedCallback() {\r\n    }\r\n    \r\n    #showList(days) {\r\n        days.forEach(val => {\r\n            let list = this.$htm.addList(val);\r\n        });\r\n    }\r\n};\r\n\r\ncustomElements.define(\"wdp-filter\", Filter, {extends:'section'});\n\n//# sourceURL=webpack:///./filter.js?");

/***/ }),

/***/ "./image.js":
/*!******************!*\
  !*** ./image.js ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ImageItem\": () => (/* binding */ ImageItem)\n/* harmony export */ });\nclass ImageItem extends HTMLImageElement {\r\n    static get disabledFeatures() {\r\n         return ['shadow'];\r\n    }\r\n\tstatic get observedAttributes() {\r\n\t\treturn [\"hidden\"];\r\n\t}\r\n    \r\n    constructor(month, name) {\r\n        super();\r\n        this.src = `../res/thumbs/${month}/img/${name+'.0.jpg'}`;\r\n\r\n        const img = new Image();\r\n        img.src = `/album/${month}/사진/${name}`;\r\n        img.decode().then(() => this.src = img.src);\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n    }\r\n\r\n    disconnectedCallback() {\r\n    }\r\n\r\n\tattributeChangedCallback(name, oldValue, newValue) {\r\n\t\tswitch (name) {\r\n\t\t\tcase 'hidden': {    // (this.hidden ? this.disconnectedCallback : this.connectedCallback)();  [this <= window]\r\n\t\t\t\tif (this.hidden) {\r\n                    this.disconnectedCallback();\r\n\t\t\t\t} else {\r\n                    this.connectedCallback();\r\n                }\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\ncustomElements.define(\"wdp-image-item\", ImageItem, {extends:'img'});\n\n//# sourceURL=webpack:///./image.js?");

/***/ }),

/***/ "./main.js":
/*!*****************!*\
  !*** ./main.js ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context.js */ \"./context.js\");\n/* harmony import */ var _album_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./album.js */ \"./album.js\");\n/* harmony import */ var _picker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./picker.js */ \"./picker.js\");\n/* harmony import */ var _filter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./filter.js */ \"./filter.js\");\n/* harmony import */ var _viewer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./viewer.js */ \"./viewer.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst search = document.querySelector(\".search\");\r\nconst viewer = document.querySelector(\".viewer\");\r\n\r\n_context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.listen('ViewMode', mode => {\r\n    if (mode) {\r\n        viewer.classList.replace(\"hide\",\"show\");\r\n        search.classList.replace(\"show\",\"hide\");\r\n    } else {\r\n        search.classList.replace(\"hide\",\"show\");\r\n        viewer.classList.replace(\"show\",\"hide\");\r\n    }\r\n});\n\n//# sourceURL=webpack:///./main.js?");

/***/ }),

/***/ "./picker.js":
/*!*******************!*\
  !*** ./picker.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Picker\": () => (/* binding */ Picker)\n/* harmony export */ });\n/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context.js */ \"./context.js\");\n/* harmony import */ var _htm_picker_htm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./htm/picker.htm */ \"./htm/picker.htm\");\n\r\n\r\n\r\nclass Picker extends _context_js__WEBPACK_IMPORTED_MODULE_0__.BaseElement {\r\n    #TouchStart = this.#onTouchStart.bind(this);\r\n    #ModeChange = this.#onModeChange.bind(this);\r\n    #Callback = this.#onCallback.bind(this);\r\n    #Resize = this.#onResize.bind(this);\r\n    #observer;\r\n    #observee;\r\n    #active;\r\n    #year;\r\n    #mm;\r\n    \r\n    constructor() {\r\n        super(_htm_picker_htm__WEBPACK_IMPORTED_MODULE_1__);\r\n\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.listen(\"Resize\", this.#Resize);\r\n    }\r\n\r\n    connectedCallback() {\r\n        [this.#year, this.#mm] = new Date().toISOString().split('-');\r\n        const list = this.$htm.list;\r\n        const cur = this.#mm - 1;\r\n        this.#onMenuSelect(list[cur]);\r\n        \r\n        this.$htm.menu.addEventListener(\"touchstart\", this.#TouchStart, {passive:true});\r\n        this.#observer = new IntersectionObserver(this.#Callback, {\r\n            root: this.$htm.menu\r\n        });\r\n        this.#observee = [list[(cur + 7) % 12], list[cur]];\r\n        this.#observer.observe(this.#observee[0]);\r\n        this.#observer.observe(this.#observee[1]);\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.listen('ViewMode', this.#ModeChange);\r\n    }\r\n\r\n    disconnectedCallback() {\r\n        this.#observer.disconnect();\r\n    }\r\n\r\n    #onTouchStart(event) {\r\n        let target = event.target;\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Tapper.detect(target, event.touches, 700)\r\n            .then(action => {\r\n                if (action == 'oneTouch')\r\n                    this.#onMenuSelect(target);\r\n                else\r\n                if (action == 'dblTouch') {\r\n                    [this.#year, this.#mm] = new Date().toISOString().split('-');\r\n                    this.#onShowActive();\r\n                    this.#updateList();\r\n                } else\r\n                if (action == 'longTouch')\r\n                    this.#onShowActive();\r\n            })\r\n            .catch(reason => {\r\n                console.log(`reason: ${reason}`);\r\n            });\r\n    }\r\n\r\n    #onModeChange(mode) {\r\n        if (mode) this.#unobserve(); else this.#observe();\r\n    }\r\n\r\n    #observe() {\r\n        this.#observer.observe(this.#observee[0]);\r\n        this.#observer.observe(this.#observee[1]);\r\n    }\r\n\r\n    #unobserve() {\r\n        this.#observer.unobserve(this.#observee[0]);\r\n        this.#observer.unobserve(this.#observee[1]);\r\n    }\r\n\r\n    #onCallback(entries, observer) {\r\n        const next = item => {\r\n            let fst = item.lastElementChild.textContent * 1;\r\n            let idx = (fst + 8) % 12;\r\n            let year = this.$htm.next(idx);\r\n\r\n            const list = this.$htm.list;\r\n            if (this.#active == list[idx]) {\r\n                if (this.#year == year)\r\n                    list[idx].classList.add('active');\r\n                else\r\n                    list[idx].classList.remove('active');\r\n            }\r\n            this.#observee = [list[fst % 12], list[(fst + 5) % 12]];\r\n        };\r\n        const prev = item => {\r\n            let lst = item.lastElementChild.textContent * 1;\r\n            let idx = (lst + 2) % 12;\r\n            let year = this.$htm.prev(idx);\r\n\r\n            const list = this.$htm.list;\r\n            if (this.#active == list[idx]) {\r\n                if (this.#year == year)\r\n                    list[idx].classList.add('active');\r\n                else\r\n                    list[idx].classList.remove('active');\r\n            }\r\n            this.#observee = [list[(lst + 5) % 12], list[(lst + 10) % 12]];\r\n        }\r\n\r\n        for (let entry of entries) {\r\n            if (entry.isIntersecting) continue;\r\n            this.#unobserve();\r\n            \r\n            if (entry.boundingClientRect.left < 360) {\r\n                next(entry.target);\r\n            } else {\r\n                prev(entry.target);\r\n            }                \r\n            this.#observe();\r\n        };\r\n    }\r\n\r\n    #onShowActive() {\r\n        this.#unobserve();\r\n\r\n        const idx = this.#mm - 1;\r\n        const list = this.$htm.list;\r\n        this.$htm.fore(this.#year * 1, idx);\r\n        this.#setActive(list[idx]);\r\n        this.#observee = [list[(idx + 7) % 12], list[idx]];\r\n\r\n        this.#observe();\r\n    }\r\n\r\n    #setActive(item) {\r\n        if (this.#active)\r\n            this.#active.classList.remove('active');\r\n        item.classList.add('active');\r\n        this.#active = item;\r\n    }\r\n    \r\n    #onMenuSelect(item) {\r\n        if (item != this.#active || item.firstElementChild.textContent != this.#year) {\r\n            this.#year = item.firstElementChild.textContent;\r\n            this.#mm = item.lastElementChild.textContent.padStart(2, '0');\r\n            this.#setActive(item);\r\n            this.#updateList();\r\n        }\r\n    }\r\n    \r\n    #updateList() {\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.notify('ShowList', this.#year + '-' + this.#mm);\r\n    }\r\n\r\n    #onResize(event) {    \r\n        this.$htm.resize();\r\n    }\r\n};\r\n\r\ncustomElements.define(\"wdp-picker\", Picker, {extends:'section'});\n\n//# sourceURL=webpack:///./picker.js?");

/***/ }),

/***/ "./video.js":
/*!******************!*\
  !*** ./video.js ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"VideoItem\": () => (/* binding */ VideoItem)\n/* harmony export */ });\nclass VideoItem extends HTMLVideoElement {\r\n    static get disabledFeatures() {\r\n         return ['shadow'];\r\n    }\r\n\tstatic get observedAttributes() {\r\n\t\treturn [\"hidden\"];\r\n\t}\r\n\r\n    \r\n    constructor(month, name) {\r\n        super();\r\n        this.poster = `../res/thumbs/${month}/img/${name+'.1.jpg'}`;\r\n        this.src = `/album/${month}/영상/${name}#t=0.5`;\r\n        this.preload = 'metadata';\r\n        this.controls = true;\r\n    }\r\n\r\n    connectedCallback() {\r\n    }\r\n\r\n    disconnectedCallback() {\r\n    }\r\n\r\n\tattributeChangedCallback(name, oldValue, newValue) {\r\n\t\tswitch (name) {\r\n\t\t\tcase 'hidden': {    // (this.hidden ? this.disconnectedCallback : this.connectedCallback)();  [this <= window]\r\n\t\t\t\tif (this.hidden) {\r\n                    this.disconnectedCallback();\r\n\t\t\t\t} else {\r\n                    this.connectedCallback();\r\n                }\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\ncustomElements.define(\"wdp-video-item\", VideoItem, {extends:'video'});\n\n//# sourceURL=webpack:///./video.js?");

/***/ }),

/***/ "./viewer.js":
/*!*******************!*\
  !*** ./viewer.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Viewer\": () => (/* binding */ Viewer)\n/* harmony export */ });\n/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context.js */ \"./context.js\");\n/* harmony import */ var _video_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./video.js */ \"./video.js\");\n/* harmony import */ var _image_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./image.js */ \"./image.js\");\n/* harmony import */ var _htm_viewer_htm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./htm/viewer.htm */ \"./htm/viewer.htm\");\n\r\n\r\n\r\n\r\n\r\nclass Viewer extends _context_js__WEBPACK_IMPORTED_MODULE_0__.BaseElement {\r\n    #BackPress = this.#onBackPress.bind(this);\r\n    #MediaView = this.#onMediaView.bind(this);\r\n    #ItemSwipe = this.#onItemSwipe.bind(this);\r\n    #jso;\r\n    #cur = [];\r\n    \r\n    constructor() {\r\n        super(_htm_viewer_htm__WEBPACK_IMPORTED_MODULE_3__);\r\n    }\r\n\r\n    connectedCallback() {\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.listen('MediaView', this.#MediaView);\r\n    }\r\n\r\n    disconnectedCallback() {\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.remove('MediaView', this.#MediaView);\r\n    }\r\n\r\n    #onBackPress() {\r\n        window.backpress.remove(this.#BackPress);\r\n        this.shadowRoot.querySelector(\".frame\")\r\n            .removeEventListener(\"touchstart\", this.#ItemSwipe);\r\n        this.$htm.stop();\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.notify('ViewMode', false);\r\n    }\r\n    \r\n    #onMediaView(jso, arg) {\r\n        this.#jso = jso;\r\n        this.#cur[2] = arg.split(',');\r\n        let items = [null, null, this.#getItem(2), null, null];\r\n        if (items[2].tagName == 'IMG')\r\n            items[2].fetchPriority = 'high';\r\n\r\n        if (this.#curNext(3)) items[3] = this.#getItem(3);\r\n        if (this.#curPrev(1)) items[1] = this.#getItem(1);\r\n        if (this.#curNext(4)) items[4] = this.#getItem(4);\r\n        if (this.#curPrev(0)) items[0] = this.#getItem(0);\r\n        this.$htm.init(items);\r\n\r\n        window.backpress.handle(this.#BackPress);\r\n        this.shadowRoot.querySelector(\".carousel\")\r\n            .addEventListener(\"touchstart\", this.#ItemSwipe, {passive:true});\r\n        _context_js__WEBPACK_IMPORTED_MODULE_0__.Listener.notify('ViewMode', true);\r\n    }\r\n\r\n    #getItem(pos) {\r\n        let [day, idx] = this.#cur[pos];\r\n        let uri = this.#jso.list[day].thumbs[idx];\r\n        let end = uri.lastIndexOf(',');\r\n\r\n        return uri.at(end - 5) == '0' ?    // ? \"사진\" : \"영상\";\r\n            new _image_js__WEBPACK_IMPORTED_MODULE_2__.ImageItem(this.#jso.month, uri.substring(0, end-6), uri.substring(end+1)) :\r\n            new _video_js__WEBPACK_IMPORTED_MODULE_1__.VideoItem(this.#jso.month, uri.substring(0, end-6));\r\n    }\r\n    \r\n    #curNext(pos = 4) {\r\n        this.#cur[pos] = null;\r\n        if (this.#cur[pos - 1] == null) return false;\r\n\r\n        let [day, idx] = this.#cur[pos - 1];\r\n        if (this.#jso.list[day].thumbs.length > ++idx) {\r\n            this.#cur[pos] = [day, idx];\r\n        } else {\r\n            if (this.#jso.list.length > ++day) this.#cur[pos] = [day, 0];\r\n            else return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    #curPrev(pos = 0) {\r\n        this.#cur[pos] = null;\r\n        if (this.#cur[pos + 1] == null) return false;\r\n            \r\n        let [day, idx] = this.#cur[pos + 1];\r\n        if (0 < idx--) {\r\n            this.#cur[pos] = [day, idx];\r\n        } else {\r\n            if (0 < day--) this.#cur[pos] = [day, this.#jso.list[day].thumbs.length - 1];\r\n            else return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    #onItemSwipe(event) {\r\n        if (event.touches.length == 1) {\r\n            let target = event.currentTarget;\r\n            _context_js__WEBPACK_IMPORTED_MODULE_0__.Swiper.detect(target, event.touches[0], window.screen.width/4)\r\n            .then(action => {\r\n                this.$htm.stop();                    \r\n                if (action == 'next')\r\n                    this.#onAtionNext(target);\r\n                else\r\n                    this.#onActionPrev(target);\r\n            })\r\n            .catch(() => {\r\n            })\r\n            .finally(() => {\r\n                target.style.transform = 'translateX(0)';\r\n                target.style.transitionDuration = '0ms';\r\n            });\r\n        }\r\n    }\r\n\r\n    #onAtionNext(target) {\r\n        let list = [...target.children];\r\n        if (list[3].children.length > 0) {\r\n            list.push(list.shift());\r\n            target.replaceChildren(...list);\r\n            \r\n            this.#cur.shift();\r\n            if (this.#curNext())\r\n                this.$htm.show(4, this.#getItem(4));\r\n            else list[4].replaceChildren();\r\n        }\r\n    }\r\n\r\n    #onActionPrev(target) {\r\n        let list = [...target.children];\r\n        if (list[1].children.length > 0) {\r\n            list.unshift(list.pop());\r\n            target.replaceChildren(...list);\r\n\r\n            this.#cur.unshift(this.#cur.pop());\r\n            if (this.#curPrev())\r\n                this.$htm.show(0, this.#getItem(0));\r\n            else list[0].replaceChildren();\r\n        }\r\n    }\r\n};\r\n\r\ncustomElements.define(\"wdp-viewer\", Viewer, {extends:'section'});\n\n//# sourceURL=webpack:///./viewer.js?");

/***/ }),

/***/ "./htm/album.htm":
/*!***********************!*\
  !*** ./htm/album.htm ***!
  \***********************/
/***/ ((module) => {

eval("module.exports = \"<style>\\r\\n  .frame {\\r\\n    display: grid;\\r\\n    grid-template-columns: repeat(3, 1fr);\\r\\n    justify-items: start;\\r\\n    width: 100%;\\r\\n    gap: 2px;\\r\\n  }\\r\\n\\r\\n  .item {\\r\\n    position: relative;\\r\\n    margin-bottom: 2px;\\r\\n  }\\r\\n\\r\\n  .date {\\r\\n    position: absolute;\\r\\n    top: 2px;\\r\\n    left: 10px;\\r\\n    opacity: 0.6;\\r\\n    font-size: 1.6em;\\r\\n    font-weight: 800;\\r\\n    z-index: 2;\\r\\n  }\\r\\n\\r\\n  .play {\\r\\n    position: absolute;\\r\\n    top: calc(50% - 16px);\\r\\n    left: calc(50% - 16px);\\r\\n    stroke: currentColor;\\r\\n    stroke-width: 3;\\r\\n    stroke-opacity: 0.4;\\r\\n    fill: currentColor;\\r\\n    fill-opacity: 0.2;\\r\\n    z-index: 1;\\r\\n  }\\r\\n\\r\\n  .nail {\\r\\n    vertical-align: middle;\\r\\n    width: 100%;     /* 3/2 [114 232 350] : 6/6 [104 220 336] */\\r\\n    min-height: 100px;\\r\\n  }\\r\\n</style>\\r\\n\\r\\n<div class=\\\"frame\\\">\\r\\n  <div class=\\\"list\\\">\\r\\n  </div>\\r\\n  <div class=\\\"list\\\">\\r\\n  </div>\\r\\n  <div class=\\\"list\\\">\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"temp\\\" style=\\\"display: none\\\">\\r\\n  <div class=\\\"item\\\"></div>\\r\\n  <span class=\\\"date\\\"></span>\\r\\n  <img class=\\\"nail\\\">\\r\\n  <svg class=\\\"play\\\" width=\\\"32\\\" height=\\\"32\\\"><use href=\\\"#icon-1\\\"/></svg>\\r\\n  <svg>\\r\\n    <symbol id=\\\"icon-1\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n      <path d=\\\"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z\\\" />\\r\\n    </symbol>\\r\\n  </svg>\\r\\n</div>\\r\\n\\r\\n<script>\\r\\n  this.host.$htm = (function (shadow) {\\r\\n    const frame = shadow.querySelector('.frame');\\r\\n    const list = frame.querySelectorAll('.list');\\r\\n    const temp = shadow.querySelector('.temp');\\r\\n\\r\\n    let cols = [0, 0, 0];\\r\\n    let date = 0;\\r\\n    \\r\\n    const getListIndex = () => {\\r\\n      if (cols[0] > cols[1])\\r\\n        return cols[1] > cols[2] ? 2 : 1;\\r\\n      return cols[0] > cols[2] ? 2 : 0;\\r\\n    };\\r\\n\\r\\n    return {\\r\\n        init: function() {\\r\\n          list.forEach(col => col.replaceChildren());\\r\\n          cols = [0, 0, 0];\\r\\n        },\\r\\n        \\r\\n        addItem: function(day, idx, src) {\\r\\n          const item = temp.querySelector('.item').cloneNode(true);\\r\\n          const nail = temp.querySelector('.nail').cloneNode(true);\\r\\n          const coma = src.lastIndexOf(',');\\r\\n\\r\\n          nail.src = src.substring(0, coma);\\r\\n          nail.alt = idx;\\r\\n          item.append(nail);\\r\\n\\r\\n          if (day != date) {\\r\\n            const node = temp.querySelector('.date').cloneNode(true);\\r\\n            node.innerText = date = day;\\r\\n            item.append(node);\\r\\n          }\\r\\n          if (src.charAt(coma - 5) == '1') {\\r\\n            item.append(temp.querySelector('.play').cloneNode(true));\\r\\n          }\\r\\n          const pos = getListIndex();\\r\\n          list[pos].append(item);\\r\\n          cols[pos] += Number.parseInt(src.substring(coma+1));\\r\\n          return item;\\r\\n        },\\r\\n        getIndex: function(item) {\\r\\n          return item.querySelector('.nail').alt;\\r\\n        },\\r\\n        scrollTo: function(align) {\\r\\n          frame.scrollIntoView(align);\\r\\n        }\\r\\n    };\\r\\n  })(this);\\r\\n</script>\";\n\n//# sourceURL=webpack:///./htm/album.htm?");

/***/ }),

/***/ "./htm/filter.htm":
/*!************************!*\
  !*** ./htm/filter.htm ***!
  \************************/
/***/ ((module) => {

eval("module.exports = \"<style>\\r\\n    .item {\\r\\n      margin: 2px;\\r\\n      width: 114px;     /* 3/2 [114 232 350] : 6/6 [104 220 336] */\\r\\n      height: 114px;\\r\\n      border-radius: 0.4rem;\\r\\n      background-color: var(--item-color);\\r\\n      color: var(--back-color);\\r\\n    }\\r\\n</style>\\r\\n\\r\\n<span class=\\\"item\\\" id=\\\"pic\\\">사진</span>\\r\\n<span class=\\\"item\\\" id=\\\"vid\\\">영상</span>\\r\\n\\r\\n<script>\\r\\n  this.host.$htm = (function (root) {\\r\\n    let pic = root.getElementById('pic');\\r\\n    let vid = root.getElementById('vid');\\r\\n\\r\\n    pic.addEventListener(\\\"click\\\", e => {\\r\\n      \\r\\n    });\\r\\n\\r\\n    vid.addEventListener(\\\"click\\\", e => {\\r\\n\\r\\n    });\\r\\n  })(this);\\r\\n</script>\";\n\n//# sourceURL=webpack:///./htm/filter.htm?");

/***/ }),

/***/ "./htm/picker.htm":
/*!************************!*\
  !*** ./htm/picker.htm ***!
  \************************/
/***/ ((module) => {

eval("module.exports = \"<style>\\r\\n    * {\\r\\n        margin: 0;\\r\\n        border: 0;\\r\\n        padding: 0;\\r\\n        box-sizing: border-box;\\r\\n\\r\\n        --btnSize: 40px;\\r\\n        --textColor: rgba(201, 215, 230, 0.8);\\r\\n        --textShadow: 2px 2px 2px rgba(214, 225, 239, 0.6), 0 0 0 #000, 2px 2px 2px rgba(214, 225, 239, 0);\\r\\n        --btnCheckedInsetShadow: inset 3px 3px 7px rgba(136, 165, 191, 0.48), inset -3px -3px 7px #fff;\\r\\n    }\\r\\n\\r\\n    .menu {\\r\\n        width: 100%;\\r\\n        height: 100%;\\r\\n        background: linear-gradient(318.32deg, #c3d1e4 0%, #dde7f3 55%, #d4e0ed 100%);\\r\\n    }\\r\\n\\r\\n    .list {\\r\\n        display: flex;\\r\\n        overflow-x: auto;\\r\\n        height: 100%;\\r\\n    }\\r\\n\\r\\n    .item {\\r\\n        width: 60px;\\r\\n        height: 100%;\\r\\n        list-style-type: none;\\r\\n        flex: 0 0 auto;\\r\\n    }\\r\\n\\r\\n    .item p {\\r\\n        margin: auto;\\r\\n        text-align: center;\\r\\n        color: var(--textColor);\\r\\n        text-shadow: var(--textShadow);\\r\\n        pointer-events: none;\\r\\n        user-select: none;\\r\\n        font-weight: bold;\\r\\n    }\\r\\n\\r\\n    .item .tag {\\r\\n        width: 100%;\\r\\n        height: 24px;\\r\\n        font-size: 18px;\\r\\n    }\\r\\n\\r\\n    .item .tag.hidden {\\r\\n        width: 1px !important;\\r\\n        overflow: hidden;\\r\\n    }\\r\\n\\r\\n    .item .box {\\r\\n        font-size: 24px;\\r\\n        width: var(--btnSize);\\r\\n        height: var(--btnSize);\\r\\n        border-radius: 7px;\\r\\n    }\\r\\n\\r\\n    .item.active .box {\\r\\n        box-shadow: var(--btnCheckedInsetShadow);\\r\\n    }\\r\\n</style>\\r\\n\\r\\n<div class=\\\"menu\\\">\\r\\n    <ul class=\\\"list\\\">\\r\\n        <li class=\\\"item\\\">\\r\\n            <p class=\\\"tag hidden\\\"></p>\\r\\n            <p class=\\\"box\\\"></p>\\r\\n        </li>\\r\\n    </ul>\\r\\n</div>\\r\\n\\r\\n<script>\\r\\n    this.host.$htm = (function (shadow) {\\r\\n        const itemStyle = shadow.styleSheets[0].rules[3].style;\\r\\n        const menu = shadow.querySelector('.menu');\\r\\n        const list = menu.querySelector('.list');\\r\\n        const items = [];\\r\\n        let head, base = 180;\\r\\n\\r\\n        resize();\\r\\n        init();\\r\\n\\r\\n        function init() {\\r\\n            const temp = list.querySelector('.item');\\r\\n            for (let i = 0; i++ < 12;) {\\r\\n                const item = temp.cloneNode(true);\\r\\n                item.lastElementChild.textContent = i;\\r\\n                items.push(item);\\r\\n            }\\r\\n            head = items[0];\\r\\n            head.firstElementChild.classList.remove('hidden');\\r\\n            list.replaceChildren(...items);\\r\\n\\r\\n            const [yy, mm] = new Date().toISOString().split('-');\\r\\n            fore(yy * 1, mm - 1);            \\r\\n        }\\r\\n\\r\\n        function fore(year, cur) {\\r\\n            const order = (item, ord) =>\\r\\n                item.firstElementChild.textContent = item.style.order = ord;\\r\\n            let idx = (cur + 3) % 12, ord = idx < cur ? (year + 1) : year;\\r\\n\\r\\n            for (let i = idx; i >= 0; i--) order(items[i], ord);\\r\\n            ord--;\\r\\n            for (let i = 11; i > idx; i--) order(items[i], ord);\\r\\n            show((cur + 7) % 12);\\r\\n        }\\r\\n\\r\\n        function show(idx) {\\r\\n            if (idx > 0 && idx < 6) {\\r\\n                head.firstElementChild.classList.add('hidden');\\r\\n                head = items[idx];\\r\\n                head.firstElementChild.classList.remove('hidden');\\r\\n            } else\\r\\n            if (head != items[0]) {\\r\\n                head.firstElementChild.classList.add('hidden');\\r\\n                head = items[0];\\r\\n                head.firstElementChild.classList.remove('hidden');\\r\\n            }\\r\\n            list.scrollLeft = base;\\r\\n        }\\r\\n\\r\\n        function resize() {\\r\\n            const size = Math.floor(window.screen.width / 6);\\r\\n            itemStyle.width = size + 'px';\\r\\n            base = size * 3;\\r\\n        }\\r\\n        \\r\\n        return {\\r\\n            next: idx => {\\r\\n                show((idx + 4) % 12);\\r\\n                const item = items[idx];\\r\\n                return item.firstElementChild.textContent = ++item.style.order;\\r\\n            },\\r\\n            prev: idx => {\\r\\n                show((idx + 3) % 12);\\r\\n                const item = items[idx];\\r\\n                return item.firstElementChild.textContent = --item.style.order;\\r\\n            },\\r\\n            fore: fore,\\r\\n            menu: menu,\\r\\n            list: items,\\r\\n            resize: resize,\\r\\n        };\\r\\n    })(this);\\r\\n</script>\";\n\n//# sourceURL=webpack:///./htm/picker.htm?");

/***/ }),

/***/ "./htm/viewer.htm":
/*!************************!*\
  !*** ./htm/viewer.htm ***!
  \************************/
/***/ ((module) => {

eval("module.exports = \"<style>\\r\\n    .frame {\\r\\n        width: 100%;\\r\\n        height: 100%;\\r\\n        overflow: hidden;\\r\\n        background-color: #000;\\r\\n    }\\r\\n\\r\\n    .carousel {\\r\\n        position: relative;\\r\\n        margin: 0 auto;\\r\\n        display: flex;\\r\\n        align-items: center;\\r\\n        height: 100%;\\r\\n    }\\r\\n\\r\\n    .item {\\r\\n        position: absolute;\\r\\n        transform: translateX(-50%);\\r\\n        transition: all 0.3s ease-in-out;\\r\\n        background-color: #000;\\r\\n    }\\r\\n\\r\\n    .item:nth-child(1) {\\r\\n        left: -70%;\\r\\n        width: 60%;\\r\\n        height: 60%;\\r\\n        opacity: 0.4;\\r\\n    }\\r\\n\\r\\n    .item:nth-child(2) {\\r\\n        left: -20%;\\r\\n        width: 80%;\\r\\n        height: 80%;\\r\\n        opacity: 0.7;\\r\\n        z-index: 1;\\r\\n    }\\r\\n\\r\\n    .item:nth-child(3) {\\r\\n        left: 50%;\\r\\n        width: 100%;\\r\\n        height: 100%;\\r\\n        opacity: 1;\\r\\n        z-index: 2;\\r\\n    }\\r\\n\\r\\n    .item:nth-child(4) {\\r\\n        left: 120%;\\r\\n        width: 80%;\\r\\n        height: 80%;\\r\\n        opacity: 0.7;\\r\\n        z-index: 1;\\r\\n    }\\r\\n\\r\\n    .item:nth-child(5) {\\r\\n        left: 170%;\\r\\n        width: 60%;\\r\\n        height: 60%;\\r\\n        opacity: 0.4;\\r\\n    }\\r\\n\\r\\n    img, video {\\r\\n        width: 100%;\\r\\n        height: 100%;\\r\\n        object-fit: contain;\\r\\n        vertical-align: bottom;\\r\\n        object-position: center center;\\r\\n    }\\r\\n</style>\\r\\n\\r\\n<div class=\\\"frame\\\">\\r\\n    <div class=\\\"carousel\\\">\\r\\n        <div class=\\\"item\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<script>\\r\\n    this.host.$htm = (function (shadow) {\\r\\n        const carousel = shadow.querySelector('.carousel');\\r\\n        const item = carousel.querySelector('.item').cloneNode(true);\\r\\n\\r\\n        return {\\r\\n            init: function(nodes) {\\r\\n                const items = [];\\r\\n                for (let i = 0; i < 5; i++) {\\r\\n                    items.push(item.cloneNode(true));\\r\\n                    if (nodes[i]) items[i].append(nodes[i]);\\r\\n                }\\r\\n                carousel.replaceChildren(...items);\\r\\n            },\\r\\n            show: function(pos, node) {\\r\\n                carousel.children[pos].replaceChildren(node);\\r\\n            },\\r\\n            stop: function() {\\r\\n                if (carousel.children[2].firstElementChild.tagName == 'VIDEO')\\r\\n                    carousel.children[2].firstElementChild.pause();\\r\\n            },\\r\\n        };\\r\\n    })(this);\\r\\n</script>\";\n\n//# sourceURL=webpack:///./htm/viewer.htm?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./main.js");
/******/ 	
/******/ })()
;